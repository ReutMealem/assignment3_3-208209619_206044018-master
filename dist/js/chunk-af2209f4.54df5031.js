(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af2209f4"],{3790:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",[r("h1",{staticClass:"title"},[e._v("Search Page")]),e.showSearchResult?r("b-button",{attrs:{id:"back",type:"submit"},on:{click:function(t){e.showSearchResult=!1}}},[e._v("Back To Search")]):e._e(),r("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSearch(t)},reset:function(t){return t.preventDefault(),e.onReset(t)}}},[e.showSearchResult?e._e():r("b-form-group",{attrs:{id:"input-group-name","label-cols-sm":"3",label:"Recipe name:","label-for":"recipe_name"}},[r("b-form-input",{attrs:{id:"recipe_name",type:"text",placeholder:"Enter Recipe name",required:""},model:{value:e.form.recipe_name,callback:function(t){e.$set(e.form,"recipe_name",t)},expression:"form.recipe_name"}})],1),e.showSearchResult?e._e():r("b-form-group",{attrs:{id:"input-group-amount","label-cols-sm":"3",label:"Amount:","label-for":"amount"}},[r("b-form-select",{attrs:{id:"amount",options:e.amount_options,required:""},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),e.showSearchResult?e._e():r("b-form-group",{attrs:{id:"input-group-sort","label-cols-sm":"3",label:"Sort by:","label-for":"sort"}},[r("b-form-select",{attrs:{id:"sort",options:e.sort_options,required:""},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e.showSearchResult?e._e():r("b-form-group",{attrs:{id:"input-group-cuisine","label-cols-sm":"3",label:"Cuisine:","label-for":"cuisine"}},[r("b-form-select",{attrs:{id:"cuisine",options:e.cuisines},model:{value:e.form.cuisine,callback:function(t){e.$set(e.form,"cuisine",t)},expression:"form.cuisine"}})],1),e.showSearchResult?e._e():r("b-form-group",{attrs:{id:"input-group-diet","label-cols-sm":"3",label:"Diet:","label-for":"diet"}},[r("b-form-select",{attrs:{id:"diet",options:e.diets},model:{value:e.form.diet,callback:function(t){e.$set(e.form,"diet",t)},expression:"form.diet"}})],1),e.showSearchResult?e._e():r("b-form-group",{attrs:{id:"input-group-intolerance","label-cols-sm":"3",label:"Intolerance:","label-for":"intolerance"}},[r("b-form-select",{attrs:{id:"intolerance",options:e.intolerances},model:{value:e.form.intolerance,callback:function(t){e.$set(e.form,"intolerance",t)},expression:"form.intolerance"}})],1),e.showSearchResult?e._e():r("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")]),e.showSearchResult?e._e():r("b-button",{staticClass:"ml-5 w-75",staticStyle:{width:"250px"},attrs:{type:"submit",variant:"primary"}},[e._v("Search")]),e.$root.store.username&&""==!e.lastSearch&&!e.showSearchResult?r("b-button",{staticClass:"research",attrs:{type:"button",variant:"warning"},on:{click:e.showLastSearch}},[e._v("Last search")]):e._e()],1),e.form.submitError?r("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Search failed: "+e._s(e.form.submitError)+" ")]):e._e(),e.showSearchResult?r("p",{staticStyle:{width:"400px"}},[e._v("Search Results for: "+e._s(e.form.recipe_name)+" , amount: "+e._s(e.form.amount)+", order by: "+e._s(e.form.sort))]):e._e(),e.showSearchResult?r("p",{staticStyle:{width:"400px"}},[e.form.cuisine?r("span",[e._v("Cuisine: "+e._s(e.form.cuisine)+", ")]):e._e(),e.form.diet?r("span",[e._v("Diet: "+e._s(e.form.diet)+", ")]):e._e(),e.form.intolerance?r("span",[e._v("Intolerance: "+e._s(e.form.intolerance))]):e._e()]):e._e(),e.showSearchResult?r("RecipePreviewList",{attrs:{title:"Search result",path:e.searchPath,type:"API"}}):e._e()],1),r("div",{staticClass:"div-back"},[e.showSearchResult?r("b-button",{attrs:{id:"back",type:"submit"},on:{click:function(t){e.showSearchResult=!1}}},[e._v("Back To Search")]):e._e()],1)])},s=[],o=(r("4e82"),r("96cf"),r("1da1")),n=r("99d8"),i={name:"Search",components:{RecipePreviewList:n["a"]},data:function(){return{form:{recipe_name:"",amount:"5",sort:"popularity",cuisine:"",diet:"",intolerance:"",submitError:void 0},sort_options:["popularity","time"],amount_options:["5","10","15"],cuisines:["","African","Asian","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],diets:["","Gluten Free","Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"],intolerances:["","Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut"],lastSearch:sessionStorage.getItem("lastSearch"),showSearchResult:!1,searchPath:""}},methods:{onSearch:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.searchPath="/recipes/searchRecipes/",e.form.recipe_name?e.searchPath+=e.form.recipe_name+"/":e.searchPath+="null/",e.form.amount?e.searchPath+=e.form.amount+"/":e.searchPath+="5/",e.form.sort?e.searchPath+=e.form.sort+"/":e.searchPath+="null/",e.form.cuisine?e.searchPath+=e.form.cuisine+"/":e.searchPath+="null/",e.form.diet?e.searchPath+=e.form.diet+"/":e.searchPath+="null/",e.form.intolerance?e.searchPath+=e.form.intolerance:e.searchPath+="null",console.log("this.searchPath: ",e.searchPath),e.showSearchResult=!0,r={recipe_name:e.form.recipe_name,amount:e.form.amount,sort:e.form.sort,cuisine:e.form.cuisine,diet:e.form.diet,intolerance:e.form.intolerance,submitError:e.form.submitError},sessionStorage.setItem("lastSearch",JSON.stringify(r)),e.lastSearch=JSON.parse(sessionStorage.getItem("lastSearch"))}catch(a){console.log(a.response),e.form.submitError=a.response.data.message,e.$root.toast("OOPS","something went wrong, please try again","danger")}case 1:case"end":return t.stop()}}),t)})))()},onReset:function(){this.form={recipe_name:"",amount:"5",sort:"popularity",cuisine:"",diet:"",intolerance:""}},showLastSearch:function(){this.lastSearch=JSON.parse(sessionStorage.getItem("lastSearch")),this.form={recipe_name:this.lastSearch.recipe_name,amount:this.lastSearch.amount,sort:this.lastSearch.sort,cuisine:this.lastSearch.cuisine,diet:this.lastSearch.diet,intolerance:this.lastSearch.intolerance}}}},c=i,l=(r("46b1"),r("2877")),u=Object(l["a"])(c,a,s,!1,null,"27b78a70",null);t["default"]=u.exports},"46b1":function(e,t,r){"use strict";var a=r("ff16"),s=r.n(a);s.a},"4e82":function(e,t,r){"use strict";var a=r("23e7"),s=r("1c0b"),o=r("7b0b"),n=r("d039"),i=r("a640"),c=[],l=c.sort,u=n((function(){c.sort(void 0)})),m=n((function(){c.sort(null)})),h=i("sort"),f=u||!m||!h;a({target:"Array",proto:!0,forced:f},{sort:function(e){return void 0===e?l.call(o(this)):l.call(o(this),s(e))}})},ff16:function(e,t,r){}}]);
//# sourceMappingURL=chunk-af2209f4.54df5031.js.map