(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d8d889d"],{3790:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",[r("div",{staticClass:"title"},[e._v("Search Page")]),e.showSearchResult?r("b-button",{staticClass:"buttons button-back",attrs:{type:"submit"},on:{click:function(t){e.showSearchResult=!1}}},[e._v("Back To Search")]):e._e(),r("div",{staticClass:"formd mx-auto"},[r("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSearch(t)},reset:function(t){return t.preventDefault(),e.onReset(t)}}},[e.showSearchResult?e._e():r("b-form-group",{attrs:{id:"input-group-name","label-cols-sm":"3",label:"Recipe name:","label-for":"recipe_name"}},[r("b-form-input",{attrs:{id:"recipe_name",type:"text",placeholder:"Enter Recipe name",required:""},model:{value:e.form.recipe_name,callback:function(t){e.$set(e.form,"recipe_name",t)},expression:"form.recipe_name"}})],1),e.showSearchResult?e._e():r("b-form-group",{attrs:{id:"input-group-amount","label-cols-sm":"3",label:"Amount:","label-for":"amount"}},[r("b-form-select",{attrs:{id:"amount",options:e.amount_options,required:""},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),e.showSearchResult?e._e():r("b-form-group",{attrs:{id:"input-group-sort","label-cols-sm":"3",label:"Sort by:","label-for":"sort"}},[r("b-form-select",{attrs:{id:"sort",options:e.sort_options,required:""},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e.showSearchResult?e._e():r("b-form-group",{attrs:{id:"input-group-cuisine","label-cols-sm":"3",label:"Cuisine:","label-for":"cuisine"}},[r("b-form-select",{attrs:{id:"cuisine",options:e.cuisines},model:{value:e.form.cuisine,callback:function(t){e.$set(e.form,"cuisine",t)},expression:"form.cuisine"}})],1),e.showSearchResult?e._e():r("b-form-group",{attrs:{id:"input-group-diet","label-cols-sm":"3",label:"Diet:","label-for":"diet"}},[r("b-form-select",{attrs:{id:"diet",options:e.diets},model:{value:e.form.diet,callback:function(t){e.$set(e.form,"diet",t)},expression:"form.diet"}})],1),e.showSearchResult?e._e():r("b-form-group",{attrs:{id:"input-group-intolerance","label-cols-sm":"3",label:"Intolerance:","label-for":"intolerance"}},[r("b-form-select",{attrs:{id:"intolerance",options:e.intolerances},model:{value:e.form.intolerance,callback:function(t){e.$set(e.form,"intolerance",t)},expression:"form.intolerance"}})],1),r("b-form-group",[e.showSearchResult?e._e():r("b-button",{staticClass:" w-15 buttons",attrs:{type:"reset"}},[e._v("Reset")]),e.showSearchResult?e._e():r("b-button",{staticClass:" w-20 buttons",attrs:{type:"submit"}},[e._v("Search")]),e.$root.store.username&&""==!e.lastSearch&&!e.showSearchResult?r("b-button",{staticClass:" w-15 buttons",attrs:{type:"button"},on:{click:e.showLastSearch}},[e._v("Last search")]):e._e()],1)],1)],1),e.form.submitError?r("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Search failed: "+e._s(e.form.submitError)+" ")]):e._e(),r("div",{staticClass:"results"},[e.showSearchResult?r("span",[e._v("Search Results for: "+e._s(e.form.recipe_name)+", Amount: "+e._s(e.form.amount)+", Order by: "+e._s(e.form.sort))]):e._e(),e.showSearchResult?r("p",[e.form.cuisine?r("span",[e._v("Cuisine: "+e._s(e.form.cuisine)+", ")]):e._e(),e.form.diet?r("span",[e._v("Diet: "+e._s(e.form.diet)+", ")]):e._e(),e.form.intolerance?r("span",[e._v("Intolerance: "+e._s(e.form.intolerance))]):e._e()]):e._e()]),e.$root.store.username?r("p",[e.showSearchResult?r("RecipePreviewList",{attrs:{title:"Search result",path:e.searchPath,page_type:"API"}}):e._e()],1):r("p",[e.showSearchResult?r("RecipePreviewList",{attrs:{title:"Search result",path:e.searchPath,check_viewed:!1,page_type:"API"}}):e._e()],1)],1)])},s=[],o=(r("4e82"),r("96cf"),r("1da1")),n=r("99d8"),i={name:"Search",components:{RecipePreviewList:n["a"]},data:function(){return{form:{recipe_name:"",amount:"5",sort:"popularity",cuisine:"",diet:"",intolerance:"",submitError:void 0},sort_options:["popularity","time"],amount_options:["5","10","15"],cuisines:["African","Asian","American","British","Cajun","Caribbean","Chinese","Eastern European","European","French","German","Greek","Indian","Irish","Italian","Japanese","Jewish","Korean","Latin American","Mediterranean","Mexican","Middle Eastern","Nordic","Southern","Spanish","Thai","Vietnamese"],diets:["Gluten Free","Ketogenic","Vegetarian","Lacto-Vegetarian","Ovo-Vegetarian","Vegan","Pescetarian","Paleo","Primal","Low FODMAP","Whole30"],intolerances:["Dairy","Egg","Gluten","Grain","Peanut","Seafood","Sesame","Shellfish","Soy","Sulfite","Tree Nut"],lastSearch:localStorage.getItem("lastSearch"),showSearchResult:!1,searchPath:""}},methods:{onSearch:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.searchPath="/recipes/searchRecipes/",e.form.recipe_name?e.searchPath+=e.form.recipe_name+"/":e.searchPath+="null/",e.form.amount?e.searchPath+=e.form.amount+"/":e.searchPath+="5/",e.form.sort?e.searchPath+=e.form.sort+"/":e.searchPath+="null/",e.form.cuisine?e.searchPath+=e.form.cuisine+"/":e.searchPath+="null/",e.form.diet?e.searchPath+=e.form.diet+"/":e.searchPath+="null/",e.form.intolerance?e.searchPath+=e.form.intolerance:e.searchPath+="null",e.showSearchResult=!0,e.lastSearch={recipe_name:e.form.recipe_name,amount:e.form.amount,sort:e.form.sort,cuisine:e.form.cuisine,diet:e.form.diet,intolerance:e.form.intolerance,submitError:e.form.submitError},localStorage.setItem("lastSearch",JSON.stringify(e.lastSearch))}catch(r){console.log(r.response),e.form.submitError=r.response.data.message,e.$root.toast("OOPS","something went wrong, please try again","danger")}case 1:case"end":return t.stop()}}),t)})))()},onReset:function(){this.form={recipe_name:"",amount:"5",sort:"popularity",cuisine:"",diet:"",intolerance:""}},showLastSearch:function(){""!=this.lastSearch&&(this.lastSearch=JSON.parse(localStorage.getItem("lastSearch")),this.form.recipe_name=this.lastSearch.recipe_name,this.form.amount=this.lastSearch.amount,this.form.sort=this.lastSearch.sort,this.form.cuisine=this.lastSearch.cuisine,this.form.diet=this.lastSearch.diet,this.form.intolerance=this.lastSearch.intolerance,this.onSearch())}}},c=i,l=(r("7b8b"),r("2877")),u=Object(l["a"])(c,a,s,!1,null,"0449b061",null);t["default"]=u.exports},4878:function(e,t,r){},"4e82":function(e,t,r){"use strict";var a=r("23e7"),s=r("1c0b"),o=r("7b0b"),n=r("d039"),i=r("a640"),c=[],l=c.sort,u=n((function(){c.sort(void 0)})),m=n((function(){c.sort(null)})),h=i("sort"),f=u||!m||!h;a({target:"Array",proto:!0,forced:f},{sort:function(e){return void 0===e?l.call(o(this)):l.call(o(this),s(e))}})},"7b8b":function(e,t,r){"use strict";var a=r("4878"),s=r.n(a);s.a}}]);
//# sourceMappingURL=chunk-6d8d889d.38d217ca.js.map